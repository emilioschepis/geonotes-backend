mutation CreateUser($id: String!, $email: String!, $username: String!) {
  user: insert_user_one(object: { id: $id, email: $email, username: $username }) {
    createdAt: created_at
  }
}

mutation CreateNote($user_id: String!, $content: String!, $latitude: Float!, $longitude: Float!) {
  note: insert_note_one(
    object: { user_id: $user_id, content: $content, location: { type: "Point", coordinates: [$longitude, $latitude] } }
  ) {
    id
  }
}

mutation RegisterView($user_id: String!, $note_id: uuid!) {
  view: insert_note_view_one(
    object: { user_id: $user_id, note_id: $note_id }
    on_conflict: { constraint: note_view_pkey, update_columns: [] }
  ) {
    note_id
  }
}
