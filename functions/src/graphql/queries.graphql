query Note($id: uuid!) {
  note: note_by_pk(id: $id) {
    id
    created_at
    content
    user {
      username
    }
    views_aggregate {
      aggregate {
        count
      }
    }
  }
}

query Notes($latitude: Float!, $longitude: Float!, $distance: Float!) {
  notes: note(
    where: {
      _and: {
        location: {
          _st_d_within: { distance: $distance, from: { type: "Point", coordinates: [$longitude, $latitude] } }
        }
      }
      deleted_at: { _is_null: true }
    }
  ) {
    id
    content
    location
  }
}

query Users {
  users: user {
    id
    email
  }
}

query Usernames($like: String!) {
  users: user(where: { username: { _ilike: $like } }) {
    username
  }
}
